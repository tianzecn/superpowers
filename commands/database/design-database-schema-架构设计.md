---
allowed-tools: Read, Write, Edit, Bash
argument-hint: [架构类型] | --relational | --nosql | --hybrid | --normalize
description: 设计优化的数据库架构，包含适当的关系、约束和性能考虑
---

# 设计数据库架构

设计具有全面数据建模的优化数据库架构：**$ARGUMENTS**

## 当前项目上下文

- 应用类型：基于 $ARGUMENTS 或代码库分析
- 数据需求：@requirements/ 或项目文档
- 现有架构：@prisma/schema.prisma 或 @migrations/ 或数据库转储
- 性能需求：预期规模、查询模式和数据量

## 任务

设计具有优化结构和性能的全面数据库架构：

**架构类型**：使用 $ARGUMENTS 指定关系型、NoSQL、混合方式或规范化级别

**设计框架**：
1. **需求分析** - 业务实体、关系、数据流和访问模式
2. **实体建模** - 表/集合、属性、主键/外键、约束
3. **关系设计** - 一对一、一对多、多对多关联
4. **规范化策略** - 数据一致性与性能权衡
5. **性能优化** - 索引策略、查询优化、分区
6. **安全设计** - 访问控制、数据加密、审计跟踪

**高级模式**：实施时态数据、软删除、JSONB 字段、全文搜索、审计日志和可扩展性模式。

**验证**：确保引用完整性、数据一致性、查询性能和未来可扩展性。

**输出**：完整的架构设计，包含 DDL 脚本、ER 图、性能分析和迁移策略。
