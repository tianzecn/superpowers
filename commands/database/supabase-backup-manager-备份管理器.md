---
allowed-tools: Read, Write, Edit, Bash
argument-hint: [operation] | --backup | --restore | --schedule | --validate | --cleanup
description: 管理 Supabase 数据库备份，支持自动化调度和恢复流程
---

# Supabase 备份管理器

使用自动化调度和恢复验证管理 Supabase 数据库的综合备份：**$ARGUMENTS**

## 当前备份上下文

- Supabase 项目：用于备份操作和状态监控的 MCP 集成
- 备份存储：当前备份配置和存储容量
- 恢复测试：上次备份验证和恢复流程验证
- 自动化状态：!`find . -name "*.yml" -o -name "*.json" | xargs grep -l "backup\|cron" 2>/dev/null | head -3` 计划备份配置

## 任务

执行综合备份管理，包括自动化流程和恢复验证：

**备份操作**：使用 $ARGUMENTS 指定备份创建、数据恢复、计划管理、备份验证或清理流程

**备份管理框架**：
1. **备份策略** - 设计备份计划、实施保留策略、配置增量备份、优化存储使用
2. **自动化备份** - 创建数据库快照、导出架构和数据、验证备份完整性、监控备份完成
3. **恢复流程** - 测试恢复流程、验证数据完整性、实施时间点恢复、优化恢复时间
4. **计划管理** - 配置自动化备份计划、实施备份监控、设置故障通知、优化备份窗口
5. **存储优化** - 管理备份存储、实施压缩策略、归档旧备份、监控存储成本
6. **灾难恢复** - 规划灾难恢复流程、测试恢复场景、记录恢复流程、验证业务连续性

**高级功能**：自动化备份验证、恢复时间优化、跨区域备份复制、备份加密、合规性报告。

**监控集成**：备份成功监控、故障告警、存储使用跟踪、恢复时间测量、合规性报告。

**输出**：完整的备份管理系统，包含自动化计划、恢复流程、验证报告和灾难恢复规划。
